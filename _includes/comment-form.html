<div id="comment-form-wrapper" class="px-lg-2">
  <h3 class="font-weight-bold">Deja un comentario</h3>
  <form id="comment-form" class="needs-validation" novalidate>
    <!-- Campos de control anti-spam -->
    <input type="hidden" name="honeypot" />
    <input type="hidden" name="ts" value="" />
    <div class="visually-hidden">
      <label for="website">Sitio web</label>
      <input type="text" id="website" name="website" autocomplete="off" tabindex="-1" aria-hidden="true" />
    </div>

    <!-- These hidden fields are necessary for the backend -->
    <input type="hidden" name="repo" value="{{ site.comments.custom.repo }}" />
    <input type="hidden" name="slug" value="{{ page.slug | slugify }}" />
    <input type="hidden" name="url" value="{{ page.url | absolute_url }}" />

    <div class="form-group">
      <label for="comment-name">Nombre <span class="text-danger">*</span></label>
      <input type="text" class="form-control" id="comment-name" name="name" required maxlength="40" />
      <div class="invalid-feedback">El nombre es obligatorio.</div>
    </div>

    <div class="form-group">
      <label for="comment-email">Email</label>
      <input type="email" class="form-control" id="comment-email" name="email" maxlength="100" aria-describedby="email-help" />
      <small id="email-help" class="form-text text-muted">
        Email (opcional, no se hará público) para mostrar un
        <a href="https://gravatar.com/" target="_blank" rel="noopener noreferrer">gravatar</a>
        para diferenciarte de otros usuarios con el mismo nombre.
      </small>
    </div>

    <div class="form-group">
      <label for="comment-message">Mensaje <span class="text-danger">*</span> <small class="text-muted">(<span id="msg-remaining">4000</span>/4000)</small></label>
      <textarea class="form-control" id="comment-message" name="message" rows="5" required maxlength="4000" aria-describedby="msg-remaining"></textarea>
      <div class="invalid-feedback">El mensaje no puede estar vacío.</div>
    </div>

    <div class="form-group">
      <button type="submit" id="comment-submit-btn" class="btn btn-primary">
        <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
        Enviar Comentario
      </button>
    </div>
  </form>
  <div id="comment-form-alert" class="alert mt-3 d-none" role="alert" aria-live="polite" tabindex="-1"></div>
</div>

<script defer src="{{ '/assets/js/comment-form.js' | relative_url }}"></script>
